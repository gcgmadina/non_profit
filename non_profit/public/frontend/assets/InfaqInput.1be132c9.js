import{g as q,r as n,h as B,o as _,i as g,w as o,e,u as a,I as C,j as u,k as s,l as F,m as y,f as V,x as S,A as w,B as A,C as N,c as T}from"./index.87eb2f25.js";import{H as j}from"./Footer.vue_vue_type_style_index_0_scoped_true_lang.28e4853e.js";import{F as E}from"./Footer.66066f8b.js";import{f as H}from"./DateUtils.561c33b0.js";import{_ as J}from"./PhoneInput.a233c45f.js";import{I as M}from"./InputAmount.8c63eb76.js";import"./moment.40bc58bf.js";const W={__name:"InfaqInput",setup(O){const P=q(),r=n("Infaq"),i=n(),f=n(""),p=n(),D=n("Uang"),U=H(new Date),b=n(U),m=n(null),d=n(""),I=n(""),c=B(()=>b.value&&m.value!==null&&d.value),k=v=>{m.value=v},x=()=>{c.value?T({method:"POST",url:"non_profit.api.fundraising.new_donation",params:{donation_type:r.value,fullname:i.value,phone:f.value,donor:p.value,item_type:D.value,date:b.value,amount:m.value,mode_of_payment:d.value},onSuccess:l=>{console.log(l),P.push({name:"DonationDetail",params:{id:l}})},onError:l=>{console.log(l)}}).reload():console.log("Form is not valid. Please fill in all required fields.")};return(v,l)=>(_(),g(a(N),null,{default:o(()=>[e(j),e(a(A),{class:"ion-padding"},{default:o(()=>[e(a(C),null,{default:o(()=>[e(a(u),null,{default:o(()=>[e(a(s),{modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=t=>r.value=t),label:"Jenis Donasi:",value:"Infaq",readonly:"true","aria-label":""},null,8,["modelValue"])]),_:1}),e(a(u),null,{default:o(()=>[e(a(s),{modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=t=>i.value=t),type:"text",label:"Nama",labelPlacement:"floating"},null,8,["modelValue"])]),_:1}),e(a(u),null,{default:o(()=>[e(J,{modelValue:f.value,"onUpdate:modelValue":l[2]||(l[2]=t=>f.value=t)},null,8,["modelValue"])]),_:1}),e(a(u),null,{default:o(()=>[e(a(s),{modelValue:p.value,"onUpdate:modelValue":l[3]||(l[3]=t=>p.value=t),type:"email",label:"Email",labelPlacement:"floating"},null,8,["modelValue"])]),_:1}),e(M,{onAmountSelected:k}),e(a(u),null,{default:o(()=>[e(a(s),{modelValue:m.value,"onUpdate:modelValue":l[4]||(l[4]=t=>m.value=t),modelModifiers:{number:!0},type:"number",required:"",label:"Jumlah Donasi",labelPlacement:"floating"},null,8,["modelValue"])]),_:1}),e(a(u),null,{default:o(()=>[e(a(F),{modelValue:d.value,"onUpdate:modelValue":l[5]||(l[5]=t=>d.value=t),required:"",label:"Metode Pembayaran"},{default:o(()=>[e(a(y),{value:"cash"},{default:o(()=>[V("Cash")]),_:1}),e(a(y),{value:"tf"},{default:o(()=>[V("Transfer Bank")]),_:1})]),_:1},8,["modelValue"])]),_:1}),d.value==="tf"?(_(),g(a(u),{key:0},{default:o(()=>[e(a(s),{modelValue:I.value,"onUpdate:modelValue":l[6]||(l[6]=t=>I.value=t),type:"text",label:"Pilih Bank",labelPlacement:"floating"},null,8,["modelValue"])]),_:1})):S("",!0),e(a(w),{onClick:x,disabled:!c.value},{default:o(()=>[V("Kirim")]),_:1},8,["disabled"])]),_:1})]),_:1}),e(E)]),_:1}))}};export{W as default};
