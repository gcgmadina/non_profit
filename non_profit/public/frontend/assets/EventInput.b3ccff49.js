import{g as M,r as n,h as N,o as x,i as j,w as a,e,u as l,I as H,j as u,k as K,l as b,m as d,f as s,n as y,p as D,q as F,v as O,_ as Y,t as h,b as q,d as p,x as A,y as L,z as R,A as $,B as z,C as G,c as J}from"./index.87eb2f25.js";import{H as Q}from"./Footer.vue_vue_type_style_index_0_scoped_true_lang.28e4853e.js";import{F as W}from"./Footer.66066f8b.js";import{h as X}from"./moment.40bc58bf.js";import{F as Z}from"./FileUploader.3e02f4ff.js";const ee={key:0,class:"my-4"},le=["src"],ae={class:"flex flex-col items-start ml-6"},te=p("label",{for:"deskripsi",class:"mb-2"},"Deskripsi:",-1),ce={__name:"EventInput",setup(oe){const S=M(),r=n(""),m=n(""),v=n(""),U=new Date,f=n(X(U).format("YYYY-MM-DDTHH:mm")),_=n(),g=n(""),c=n(),V=n(""),C=i=>{},w=i=>{console.log(i),c.value=i.file_url,console.log(c.value)},k=N(()=>r.value&&m.value&&v.value&&f.value),P=()=>{k.value?J({method:"POST",url:"non_profit.api.fundraising.new_event",params:{subject:r.value,event_category:"Event",event_type:v.value,starts_on:f.value,ends_on:_.value,status:g.value,thumbnail:c.value,is_donation_event:m.value,description:V.value},onSuccess:t=>{console.log(t),S.push({name:"EventDetail",params:{id:t}})},onError:t=>{console.log(t)}}).reload():console.log("Form is not valid. Please fill in all required fields.")};return(i,t)=>(x(),j(l(G),null,{default:a(()=>[e(Q),e(l(z),null,{default:a(()=>[e(l(H),null,{default:a(()=>[e(l(u),null,{default:a(()=>[e(l(K),{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=o=>r.value=o),label:"Nama Kegiatan","label-placement":"floating"},null,8,["modelValue"])]),_:1}),e(l(u),null,{default:a(()=>[e(l(b),{modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=o=>m.value=o),label:"Kategori"},{default:a(()=>[e(l(d),{value:"0"},{default:a(()=>[s("Kegiatan")]),_:1}),e(l(d),{value:"1"},{default:a(()=>[s("Penggalangan Dana")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(l(u),null,{default:a(()=>[e(l(b),{modelValue:v.value,"onUpdate:modelValue":t[2]||(t[2]=o=>v.value=o),label:"Tipe"},{default:a(()=>[e(l(d),{value:"Private"},{default:a(()=>[s("Tertutup")]),_:1}),e(l(d),{value:"Public"},{default:a(()=>[s("Publik")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(l(u),null,{default:a(()=>[e(l(y),null,{default:a(()=>[s("Mulai")]),_:1}),e(l(D),{datetime:"startsOn"}),e(l(F),{"keep-contents-mounted":!0},{default:a(()=>[e(l(O),{modelValue:f.value,"onUpdate:modelValue":t[3]||(t[3]=o=>f.value=o),id:"startsOn"},null,8,["modelValue"])]),_:1})]),_:1}),e(l(u),null,{default:a(()=>[e(l(y),null,{default:a(()=>[s("Selesai")]),_:1}),e(l(D),{datetime:"endsOn"}),e(l(F),{"keep-contents-mounted":!0},{default:a(()=>[e(l(O),{modelValue:_.value,"onUpdate:modelValue":t[4]||(t[4]=o=>_.value=o),id:"endsOn"},null,8,["modelValue"])]),_:1})]),_:1}),e(l(u),null,{default:a(()=>[e(l(Z),{fileTypes:["image/*"],validateFile:C,onSuccess:w},{default:a(({file:o,uploading:I,progress:T,uploaded:B,message:se,error:ne,total:ue,success:de,openFileSelector:E})=>[e(l(Y),{onClick:E,loading:I},{default:a(()=>[s(h(I?`Uploading ${T}%`:"Upload Image"),1)]),_:2},1032,["onClick","loading"]),B?(x(),q("div",ee,[p("img",{src:c.value,alt:"Preview Image",style:{"max-width":"200px","max-height":"200px"}},null,8,le)])):A("",!0)]),_:1})]),_:1}),e(l(u),null,{default:a(()=>[e(l(b),{modelValue:g.value,"onUpdate:modelValue":t[5]||(t[5]=o=>g.value=o),label:"Status"},{default:a(()=>[e(l(d),{value:"Open"},{default:a(()=>[s("Akan Dilaksanakan")]),_:1}),e(l(d),{value:"Completed"},{default:a(()=>[s("Selesai")]),_:1})]),_:1},8,["modelValue"])]),_:1}),p("div",ae,[te,L(p("textarea",{class:"mb-2",id:"deskripsi","onUpdate:modelValue":t[6]||(t[6]=o=>V.value=o),cols:"30",rows:"10"},null,512),[[R,V.value]])])]),_:1}),e(l($),{class:"ml-6",onClick:P,disabled:!k.value},{default:a(()=>[s("Kirim")]),_:1},8,["disabled"])]),_:1}),e(W)]),_:1}))}};export{ce as default};
