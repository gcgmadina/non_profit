import{z as M,r as n,A as N,o as x,g as H,w as a,e,u as l,B as K,C as u,E as Y,F as b,G as d,f as s,H as D,J as F,K as O,L as y,M as j,t as L,b as q,d as p,q as A,N as R,O as $,P as h,k as z,l as G,c as J}from"./index.92312bcf.js";import{H as Q}from"./Header.2bdb63fd.js";import{F as W}from"./Footer.bdb453cc.js";import{h as X}from"./moment.40bc58bf.js";import{F as Z}from"./FileUploader.10c4677f.js";const ee={key:0,class:"my-4"},le=["src"],ae={class:"flex flex-col items-start ml-6"},te=p("label",{for:"deskripsi",class:"mb-2"},"Deskripsi:",-1),ce={__name:"EventInput",setup(oe){const S=M(),r=n(""),m=n(""),v=n(""),U=new Date,f=n(X(U).format("YYYY-MM-DDTHH:mm")),_=n(),g=n(""),c=n(),V=n(""),C=i=>{},P=i=>{console.log(i),c.value=i.file_url,console.log(c.value)},k=N(()=>r.value&&m.value&&v.value&&f.value),w=()=>{k.value?J({method:"POST",url:"non_profit.api.fundraising.new_event",params:{subject:r.value,event_category:"Event",event_type:v.value,starts_on:f.value,ends_on:_.value,status:g.value,thumbnail:c.value,is_donation_event:m.value,description:V.value},onSuccess:t=>{console.log(t),S.push({name:"EventDetail",params:{id:t}})},onError:t=>{console.log(t)}}).reload():console.log("Form is not valid. Please fill in all required fields.")};return(i,t)=>(x(),H(l(G),null,{default:a(()=>[e(Q),e(l(z),null,{default:a(()=>[e(l(K),null,{default:a(()=>[e(l(u),null,{default:a(()=>[e(l(Y),{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=o=>r.value=o),label:"Nama Kegiatan","label-placement":"floating"},null,8,["modelValue"])]),_:1}),e(l(u),null,{default:a(()=>[e(l(b),{modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=o=>m.value=o),label:"Kategori"},{default:a(()=>[e(l(d),{value:"0"},{default:a(()=>[s("Kegiatan")]),_:1}),e(l(d),{value:"1"},{default:a(()=>[s("Penggalangan Dana")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(l(u),null,{default:a(()=>[e(l(b),{modelValue:v.value,"onUpdate:modelValue":t[2]||(t[2]=o=>v.value=o),label:"Tipe"},{default:a(()=>[e(l(d),{value:"Private"},{default:a(()=>[s("Tertutup")]),_:1}),e(l(d),{value:"Public"},{default:a(()=>[s("Publik")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(l(u),null,{default:a(()=>[e(l(D),null,{default:a(()=>[s("Mulai")]),_:1}),e(l(F),{datetime:"startsOn"}),e(l(O),{"keep-contents-mounted":!0},{default:a(()=>[e(l(y),{modelValue:f.value,"onUpdate:modelValue":t[3]||(t[3]=o=>f.value=o),id:"startsOn"},null,8,["modelValue"])]),_:1})]),_:1}),e(l(u),null,{default:a(()=>[e(l(D),null,{default:a(()=>[s("Selesai")]),_:1}),e(l(F),{datetime:"endsOn"}),e(l(O),{"keep-contents-mounted":!0},{default:a(()=>[e(l(y),{modelValue:_.value,"onUpdate:modelValue":t[4]||(t[4]=o=>_.value=o),id:"endsOn"},null,8,["modelValue"])]),_:1})]),_:1}),e(l(u),null,{default:a(()=>[e(l(Z),{fileTypes:["image/*"],validateFile:C,onSuccess:P},{default:a(({file:o,uploading:I,progress:E,uploaded:T,message:se,error:ne,total:ue,success:de,openFileSelector:B})=>[e(l(j),{onClick:B,loading:I},{default:a(()=>[s(L(I?`Uploading ${E}%`:"Upload Image"),1)]),_:2},1032,["onClick","loading"]),T?(x(),q("div",ee,[p("img",{src:c.value,alt:"Preview Image",style:{"max-width":"200px","max-height":"200px"}},null,8,le)])):A("",!0)]),_:1})]),_:1}),e(l(u),null,{default:a(()=>[e(l(b),{modelValue:g.value,"onUpdate:modelValue":t[5]||(t[5]=o=>g.value=o),label:"Status"},{default:a(()=>[e(l(d),{value:"Open"},{default:a(()=>[s("Akan Dilaksanakan")]),_:1}),e(l(d),{value:"Completed"},{default:a(()=>[s("Selesai")]),_:1})]),_:1},8,["modelValue"])]),_:1}),p("div",ae,[te,R(p("textarea",{class:"mb-2",id:"deskripsi","onUpdate:modelValue":t[6]||(t[6]=o=>V.value=o),cols:"30",rows:"10"},null,512),[[$,V.value]])])]),_:1}),e(l(h),{class:"ml-6",onClick:w,disabled:!k.value},{default:a(()=>[s("Kirim")]),_:1},8,["disabled"])]),_:1}),e(W)]),_:1}))}};export{ce as default};
