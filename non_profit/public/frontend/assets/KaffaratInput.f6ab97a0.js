import{g as B,r as n,h as C,o as c,i as I,w as o,e,u as l,I as F,j as u,k as s,l as S,m as g,f as V,x as w,A,B as K,C as N,c as T}from"./index.87eb2f25.js";import{H as j}from"./Footer.vue_vue_type_style_index_0_scoped_true_lang.28e4853e.js";import{F as q}from"./Footer.66066f8b.js";import{f as E}from"./DateUtils.561c33b0.js";import{_ as H}from"./PhoneInput.a233c45f.js";import{I as J}from"./InputAmount.8c63eb76.js";import"./moment.40bc58bf.js";const W={__name:"KaffaratInput",setup(M){const y=B(),r=n("Kaffarat"),i=n(),f=n(),p=n(),k=n("Uang"),m=n(0),d=n(""),b=n(""),D=E(new Date),P=n(D),U=v=>{m.value=v},_=C(()=>m.value&&m!==0&&d.value),x=()=>{_.value?T({method:"POST",url:"non_profit.api.fundraising.new_donation",params:{donation_type:r.value,fullname:i.value,phone:f.value,donor:p.value,item_type:k.value,date:P.value,amount:m.value,mode_of_payment:d.value},onSuccess:a=>{console.log(a),y.push({name:"DonationDetail",params:{id:a}})},onError:a=>{console.log(a)}}).reload():alert("Form tidak valid")};return(v,a)=>(c(),I(l(N),null,{default:o(()=>[e(j),e(l(K),{class:"ion=padding"},{default:o(()=>[e(l(F),null,{default:o(()=>[e(l(u),null,{default:o(()=>[e(l(s),{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=t=>r.value=t),label:"Jenis Donasi:",value:"Kaffarat",readonly:!0},null,8,["modelValue"])]),_:1}),e(l(u),null,{default:o(()=>[e(l(s),{modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=t=>i.value=t),type:"text",label:"Nama",labelPlacement:"floating"},null,8,["modelValue"])]),_:1}),e(l(u),null,{default:o(()=>[e(H,{modelValue:f.value,"onUpdate:modelValue":a[2]||(a[2]=t=>f.value=t)},null,8,["modelValue"])]),_:1}),e(l(u),null,{default:o(()=>[e(l(s),{modelValue:p.value,"onUpdate:modelValue":a[3]||(a[3]=t=>p.value=t),type:"email",label:"Email",labelPlacement:"floating"},null,8,["modelValue"])]),_:1}),e(J,{onAmountSelected:U}),e(l(u),null,{default:o(()=>[e(l(s),{modelValue:m.value,"onUpdate:modelValue":a[4]||(a[4]=t=>m.value=t),modelModifiers:{number:!0},type:"number",required:"",label:"Jumlah Donasi",labelPlacement:"floating"},null,8,["modelValue"])]),_:1}),e(l(u),null,{default:o(()=>[e(l(S),{modelValue:d.value,"onUpdate:modelValue":a[5]||(a[5]=t=>d.value=t),required:"",label:"Metode Pembayaran"},{default:o(()=>[e(l(g),{value:"cash"},{default:o(()=>[V("Cash")]),_:1}),e(l(g),{value:"tf"},{default:o(()=>[V("Transfer Bank")]),_:1})]),_:1},8,["modelValue"])]),_:1}),d.value==="tf"?(c(),I(l(u),{key:0},{default:o(()=>[e(l(s),{modelValue:b.value,"onUpdate:modelValue":a[6]||(a[6]=t=>b.value=t),type:"text",label:"Pilih Bank",labelPlacement:"floating"},null,8,["modelValue"])]),_:1})):w("",!0),e(l(A),{onClick:x,disabled:!_.value},{default:o(()=>[V("Kirim")]),_:1},8,["disabled"])]),_:1})]),_:1}),e(q)]),_:1}))}};export{W as default};
