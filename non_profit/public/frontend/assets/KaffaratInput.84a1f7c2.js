import{z as F,r,A as C,o as _,g as c,w as t,e as a,u as l,B as w,C as s,E as V,F as P,G as g,f as b,b as x,W as A,t as E,X as W,q as K,P as N,k as q,l as L,c as U}from"./index.92312bcf.js";import{H as O}from"./Header.2bdb63fd.js";import{F as H}from"./Footer.bdb453cc.js";import{f as J}from"./DateUtils.561c33b0.js";import{_ as M}from"./PhoneInput.23613b61.js";import{I as R}from"./InputAmount.ef6039dc.js";import{b as j}from"./BankList.975947ff.js";import"./moment.40bc58bf.js";const ae={__name:"KaffaratInput",setup(z){const y=F(),m=r("Kaffarat"),d=r(),i=r(),f=r(),D=r("Uang"),n=r(0),u=r(""),p=r(""),S=J(new Date),I=r(S),T=v=>{n.value=v},k=C(()=>u.value==="Wire Transfer"?n.value&&n!==0&&u.value&&p.value:n.value&&n!==0&&u.value),B=()=>{k.value?u.value==="Wire Transfer"?U({method:"POST",url:"non_profit.api.fundraising.new_donation",params:{donation_type:m.value,fullname:d.value,phone:i.value,donor:f.value,item_type:D.value,date:I.value,amount:n.value,mode_of_payment:u.value,bank:p.value},onSuccess:e=>{console.log(e),y.push({name:"DonationDetail",params:{id:e}})},onError:e=>{console.log(e)}}).reload():U({method:"POST",url:"non_profit.api.fundraising.new_donation",params:{donation_type:m.value,fullname:d.value,phone:i.value,donor:f.value,item_type:D.value,date:I.value,amount:n.value,mode_of_payment:u.value},onSuccess:e=>{console.log(e),y.push({name:"DonationDetail",params:{id:e}})},onError:e=>{console.log(e)}}).reload():alert("Form tidak valid")};return(v,e)=>(_(),c(l(L),null,{default:t(()=>[a(O),a(l(q),{class:"ion=padding"},{default:t(()=>[a(l(w),null,{default:t(()=>[a(l(s),null,{default:t(()=>[a(l(V),{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=o=>m.value=o),label:"Jenis Donasi:",value:"Kaffarat",readonly:!0},null,8,["modelValue"])]),_:1}),a(l(s),null,{default:t(()=>[a(l(V),{modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=o=>d.value=o),type:"text",label:"Nama",labelPlacement:"floating"},null,8,["modelValue"])]),_:1}),a(l(s),null,{default:t(()=>[a(M,{modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=o=>i.value=o)},null,8,["modelValue"])]),_:1}),a(l(s),null,{default:t(()=>[a(l(V),{modelValue:f.value,"onUpdate:modelValue":e[3]||(e[3]=o=>f.value=o),type:"email",label:"Email",labelPlacement:"floating"},null,8,["modelValue"])]),_:1}),a(R,{onAmountSelected:T}),a(l(s),null,{default:t(()=>[a(l(V),{modelValue:n.value,"onUpdate:modelValue":e[4]||(e[4]=o=>n.value=o),modelModifiers:{number:!0},type:"number",required:"",label:"Jumlah Donasi",labelPlacement:"floating"},null,8,["modelValue"])]),_:1}),a(l(s),null,{default:t(()=>[a(l(P),{modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=o=>u.value=o),required:"",label:"Metode Pembayaran"},{default:t(()=>[a(l(g),{value:"cash"},{default:t(()=>[b("Cash")]),_:1}),a(l(g),{value:"Wire Transfer"},{default:t(()=>[b("Transfer Bank")]),_:1})]),_:1},8,["modelValue"])]),_:1}),u.value==="Wire Transfer"?(_(),c(l(s),{key:0},{default:t(()=>[a(l(P),{modelValue:p.value,"onUpdate:modelValue":e[6]||(e[6]=o=>p.value=o),label:"Pilih Bank"},{default:t(()=>[(_(!0),x(W,null,A(l(j),o=>(_(),c(l(g),{key:o.id,value:o.name},{default:t(()=>[b(E(o.account_name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})):K("",!0),a(l(N),{onClick:B,disabled:!k.value},{default:t(()=>[b("Kirim")]),_:1},8,["disabled"])]),_:1})]),_:1}),a(H)]),_:1}))}};export{ae as default};
