var y=(p,d,a)=>new Promise((c,u)=>{var h=i=>{try{o(a.next(i))}catch(n){u(n)}},g=i=>{try{o(a.throw(i))}catch(n){u(n)}},o=i=>i.done?c(i.value):Promise.resolve(i.value).then(h,g);o((a=a.apply(p,d)).next())});import{g as M,r as x,c as b,a1 as F,o as s,i as C,w as _,e as m,b as t,d as e,Z as l,x as w,t as f,u as r,f as v,_ as S,B as R,C as V}from"./index.87eb2f25.js";import{H as j}from"./Footer.vue_vue_type_style_index_0_scoped_true_lang.28e4853e.js";import{F as H}from"./FileUploader.3e02f4ff.js";import{a as I}from"./DateUtils.561c33b0.js";import{h as D}from"./moment.40bc58bf.js";const N={key:0,class:"w-full h-48 bg-gray-300 animate-pulse"},P={key:1,class:"w-full h-auto"},Y={class:"thanks-section text-center mx-2"},U=e("h1",null,"Kirim Bukti Transfermu",-1),A=e("p",null,"Kirim bukti transfer untuk memverifikasi donasimu",-1),E=e("h1",null,"Menunggu Verifikasi",-1),K=e("p",null,"Donasi Anda sedang diverifikasi oleh admin kami",-1),O=e("h1",null,"Terimakasih",-1),$=e("p",null,"Donasi Anda telah kami terima dan akan segera disalurkan",-1),G={class:"border rounded-lg border-gray-900 mx-2 my-6 p-4 shadow-gray-700 shadow-lg"},Z={class:"grid grid-cols-2 mb-2"},q=e("div",null,"Tanggal:",-1),z={class:"pl-10"},J={class:"grid grid-cols-2 mb-2"},L=e("div",null,"Metode Pembayaran:",-1),Q={class:"pl-10"},W={class:"grid grid-cols-2 mb-2"},X=e("div",null,"Status:",-1),ee={class:"pl-10"},ae={class:"flex justify-between mx-16 my-8"},se=e("div",null,"Total Donasi",-1),te={class:"font-bold"},oe={key:0,class:"flex justify-between mx-16 m-8"},ie=["src"],ne={key:1,class:"flex justify-between mx-16 m-8"},le=e("div",null,"Sertakan Bukti Transfer",-1),re=e("footer",null,null,-1),ye={__name:"DonationDetail",setup(p){D.locale("id");const d=M(),a=x({}),c=x(!0),u=o=>{},h=o=>y(this,null,function*(){b({method:"POST",url:"non_profit.api.fundraising.upload_evidence",params:{donation_id:d.currentRoute.value.params.id,evidence:o.file_url},transform(n){console.log(n)}}).reload()}),g=b({method:"GET",url:"non_profit.api.fundraising.get_donation_by_id",auto:!0,realtime:!0,params:{donation_id:d.currentRoute.value.params.id},transform(o){a.value=o,c.value=!1}});return F(()=>{g.reload(),a.creation=D(a.creation).format("D MMMM YYYY HH:mm")}),(o,i)=>(s(),C(r(V),null,{default:_(()=>[m(j,{showBackButton:!0}),m(r(R),null,{default:_(()=>[c.value?(s(),t("div",N)):(s(),t("div",P,[e("div",Y,[a.value.evidance_of_transfer?a.value.docstatus===0&&a.value.evidance_of_transfer?(s(),t(l,{key:1},[E,K],64)):a.value.docstatus===1&&a.value.evidance_of_transfer?(s(),t(l,{key:2},[O,$],64)):w("",!0):(s(),t(l,{key:0},[U,A],64))]),e("div",G,[e("div",Z,[q,e("div",z,f(r(I)(a.value.creation)),1)]),e("div",J,[L,e("div",Q,f(a.value.mode_of_payment),1)]),e("div",W,[X,e("div",ee,[a.value.evidance_of_transfer?a.value.docstatus===0&&a.value.evidance_of_transfer?(s(),t(l,{key:1},[v(" Menunggu verifikasi ")],64)):a.value.docstatus===1&&a.value.evidance_of_transfer?(s(),t(l,{key:2},[v(" Donasi berhasil ")],64)):w("",!0):(s(),t(l,{key:0},[v(" Menunggu bukti transfer ")],64))])])]),e("div",ae,[se,e("div",te,"Rp. "+f(a.value.amount),1)]),a.value.evidance_of_transfer?(s(),t("div",oe,[e("img",{src:a.value.evidance_of_transfer,alt:"Preview Image",style:{"max-width":"200px","max-height":"200px"}},null,8,ie)])):(s(),t("div",ne,[le,e("div",null,[m(r(H),{fileTypes:["image/*"],validateFile:u,onSuccess:h},{default:_(({file:n,uploading:k,progress:T,uploaded:de,message:ce,error:ue,total:_e,success:me,openFileSelector:B})=>[m(r(S),{onClick:B,loading:k},{default:_(()=>[v(f(k?`Uploading ${T}%`:"Upload Image"),1)]),_:2},1032,["onClick","loading"])]),_:1})])]))]))]),_:1}),re]),_:1}))}};export{ye as default};
