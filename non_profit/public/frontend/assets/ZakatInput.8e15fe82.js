import{g as q,r as n,h as C,a0 as M,o as p,i as y,w as o,e as a,u as l,I as E,j as d,l as B,m as f,f as r,k as g,x as k,b as Z,A,B as J,C as N,c as F}from"./index.87eb2f25.js";import{H as T}from"./Footer.vue_vue_type_style_index_0_scoped_true_lang.28e4853e.js";import{F as j}from"./Footer.66066f8b.js";import{f as O}from"./DateUtils.561c33b0.js";import{_ as H}from"./PhoneInput.a233c45f.js";import{I as K}from"./InputAmount.8c63eb76.js";import"./moment.40bc58bf.js";const R={key:0},L={key:1},ae={__name:"ZakatInput",setup($){const I=q(),m=n(""),V=n(),_=n(""),b=n(),u=n("Uang"),S=O(new Date),D=n(S),i=n(null),s=n(""),U=n(""),h=n("Beras"),v=n("0"),P=C(()=>{if(u.value==="Barang")return v.value!==null;if(u.value==="Uang")return i.value!==null&&s.value}),w=c=>{i.value=c},x=()=>{P.value?u.value=="Uang"?(console.log("Submitting form with Uang"),F({method:"POST",url:"non_profit.api.fundraising.new_donation",params:{donation_type:m.value,fullname:V.value,phone:_.value,donor:b.value,item_type:u.value,date:D.value,amount:i.value,mode_of_payment:s.value},onSuccess:e=>{console.log(e),I.push({name:"DonationDetail",params:{id:e}})},onError:e=>{console.log(e)}}).reload()):u.value=="Barang"&&(console.log("Submitting form with Barang"),F({method:"POST",url:"non_profit.api.fundraising.new_goods_donation",params:{donation_type:m.value,fullname:V.value,phone:_.value,donor:b.value,item_type:u.value,date:D.value,amount:v.value,item:h.value},onSuccess:e=>{console.log(e),I.push({name:"DonationDetail",params:{id:e}})},onError:e=>{console.log(e)}}).reload()):console.log("Form is not valid. Please fill in all required fields.")};return M(()=>{m.value==="Zakat Mal"&&(u.value="Uang",v.value="0"),m.value==="Zakat Fitrah"&&(i.value=null,s.value="",U.value="")}),(c,e)=>(p(),y(l(N),null,{default:o(()=>[a(T),a(l(J),{class:"ion-padding"},{default:o(()=>[a(l(E),null,{default:o(()=>[a(l(d),null,{default:o(()=>[a(l(B),{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=t=>m.value=t),required:"",label:"Jenis Zakat"},{default:o(()=>[a(l(f),{value:"Zakat Mal"},{default:o(()=>[r("Zakat Mal")]),_:1}),a(l(f),{value:"Zakat Fitrah"},{default:o(()=>[r("Zakat Fitrah")]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(l(d),null,{default:o(()=>[a(l(g),{modelValue:V.value,"onUpdate:modelValue":e[1]||(e[1]=t=>V.value=t),type:"text",label:"Nama",labelPlacement:"floating"},null,8,["modelValue"])]),_:1}),a(l(d),null,{default:o(()=>[a(H,{modelValue:_.value,"onUpdate:modelValue":e[2]||(e[2]=t=>_.value=t)},null,8,["modelValue"])]),_:1}),a(l(d),null,{default:o(()=>[a(l(g),{modelValue:b.value,"onUpdate:modelValue":e[3]||(e[3]=t=>b.value=t),type:"email",label:"Email",labelPlacement:"floating"},null,8,["modelValue"])]),_:1}),a(l(d),null,{default:o(()=>[a(l(B),{modelValue:u.value,"onUpdate:modelValue":e[4]||(e[4]=t=>u.value=t),required:"",label:"Jenis Zakat"},{default:o(()=>[a(l(f),{value:"Uang"},{default:o(()=>[r("Uang")]),_:1}),m.value==="Zakat Fitrah"?(p(),y(l(f),{key:0,value:"Barang"},{default:o(()=>[r("Beras")]),_:1})):k("",!0)]),_:1},8,["modelValue"])]),_:1}),u.value==="Uang"?(p(),Z("div",R,[a(K,{onAmountSelected:w}),a(l(d),null,{default:o(()=>[a(l(g),{modelValue:i.value,"onUpdate:modelValue":e[5]||(e[5]=t=>i.value=t),modelModifiers:{number:!0},type:"number",required:"",label:"Jumlah Donasi",labelPlacement:"floating"},null,8,["modelValue"])]),_:1}),a(l(d),null,{default:o(()=>[a(l(B),{modelValue:s.value,"onUpdate:modelValue":e[6]||(e[6]=t=>s.value=t),required:"",label:"Metode Pembayaran"},{default:o(()=>[a(l(f),{value:"cash"},{default:o(()=>[r("Cash")]),_:1}),a(l(f),{value:"tf"},{default:o(()=>[r("Transfer Bank")]),_:1})]),_:1},8,["modelValue"])]),_:1}),s.value==="tf"?(p(),y(l(d),{key:0},{default:o(()=>[a(l(g),{modelValue:U.value,"onUpdate:modelValue":e[7]||(e[7]=t=>U.value=t),type:"text",label:"Pilih Bank",labelPlacement:"floating"},null,8,["modelValue"])]),_:1})):k("",!0)])):k("",!0),u.value==="Barang"?(p(),Z("div",L,[a(l(d),null,{default:o(()=>[a(l(g),{modelValue:v.value,"onUpdate:modelValue":e[8]||(e[8]=t=>v.value=t),modelModifiers:{number:!0},type:"number",required:"",label:"Jumlah Beras (Kg)",labelPlacement:"floating"},null,8,["modelValue"])]),_:1})])):k("",!0),a(l(A),{onClick:x,disabled:!P.value},{default:o(()=>[r("Kirim")]),_:1},8,["disabled"])]),_:1})]),_:1}),a(j)]),_:1}))}};export{ae as default};
