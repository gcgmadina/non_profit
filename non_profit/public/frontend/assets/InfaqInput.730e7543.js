import{z as F,r as t,A as T,o as v,g,w as n,e as a,u as l,B as C,C as r,E as _,F as P,G as I,f as V,b as w,W as x,t as A,X as E,q as N,P as W,k as L,l as O,c as U}from"./index.92312bcf.js";import{H}from"./Header.2bdb63fd.js";import{F as J}from"./Footer.bdb453cc.js";import{f as M}from"./DateUtils.561c33b0.js";import{_ as R}from"./PhoneInput.23613b61.js";import{I as h}from"./InputAmount.ef6039dc.js";import{b as j}from"./BankList.975947ff.js";import"./moment.40bc58bf.js";const ae={__name:"InfaqInput",setup(z){const y=F(),m=t("Infaq"),d=t(),i=t(""),f=t(),D=t("Uang"),S=M(new Date),c=t(S),s=t(null),u=t(""),b=t(""),k=T(()=>c.value&&s.value!==null&&u.value),q=p=>{s.value=p},B=()=>{k.value?u.value==="cash"?U({method:"POST",url:"non_profit.api.fundraising.new_donation",params:{donation_type:m.value,fullname:d.value,phone:i.value,donor:f.value,item_type:D.value,date:c.value,amount:s.value,mode_of_payment:u.value},onSuccess:e=>{console.log(e),y.push({name:"DonationDetail",params:{id:e}})},onError:e=>{console.log(e)}}).reload():u.value==="Wire Transfer"&&U({method:"POST",url:"non_profit.api.fundraising.new_donation",params:{donation_type:m.value,fullname:d.value,phone:i.value,donor:f.value,item_type:D.value,date:c.value,amount:s.value,mode_of_payment:u.value,bank:b.value},onSuccess:e=>{console.log(e),y.push({name:"DonationDetail",params:{id:e}})},onError:e=>{console.log(e)}}).reload():console.log("Form is not valid. Please fill in all required fields.")};return(p,e)=>(v(),g(l(O),null,{default:n(()=>[a(H),a(l(L),{class:"ion-padding"},{default:n(()=>[a(l(C),null,{default:n(()=>[a(l(r),null,{default:n(()=>[a(l(_),{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=o=>m.value=o),label:"Jenis Donasi:",value:"Infaq",readonly:"true","aria-label":""},null,8,["modelValue"])]),_:1}),a(l(r),null,{default:n(()=>[a(l(_),{modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=o=>d.value=o),type:"text",label:"Nama",labelPlacement:"floating"},null,8,["modelValue"])]),_:1}),a(l(r),null,{default:n(()=>[a(R,{modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=o=>i.value=o)},null,8,["modelValue"])]),_:1}),a(l(r),null,{default:n(()=>[a(l(_),{modelValue:f.value,"onUpdate:modelValue":e[3]||(e[3]=o=>f.value=o),type:"email",label:"Email",labelPlacement:"floating"},null,8,["modelValue"])]),_:1}),a(h,{onAmountSelected:q}),a(l(r),null,{default:n(()=>[a(l(_),{modelValue:s.value,"onUpdate:modelValue":e[4]||(e[4]=o=>s.value=o),modelModifiers:{number:!0},type:"number",required:"",label:"Jumlah Donasi",labelPlacement:"floating"},null,8,["modelValue"])]),_:1}),a(l(r),null,{default:n(()=>[a(l(P),{modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=o=>u.value=o),required:"",label:"Metode Pembayaran"},{default:n(()=>[a(l(I),{value:"cash"},{default:n(()=>[V("Cash")]),_:1}),a(l(I),{value:"Wire Transfer"},{default:n(()=>[V("Transfer Bank")]),_:1})]),_:1},8,["modelValue"])]),_:1}),u.value==="Wire Transfer"?(v(),g(l(r),{key:0},{default:n(()=>[a(l(P),{modelValue:b.value,"onUpdate:modelValue":e[6]||(e[6]=o=>b.value=o),label:"Pilih Bank"},{default:n(()=>[(v(!0),w(E,null,x(l(j),o=>(v(),g(l(I),{key:o.id,value:o.name},{default:n(()=>[V(A(o.account_name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})):N("",!0),a(l(W),{onClick:B,disabled:!k.value},{default:n(()=>[V("Kirim")]),_:1},8,["disabled"])]),_:1})]),_:1}),a(J)]),_:1}))}};export{ae as default};
