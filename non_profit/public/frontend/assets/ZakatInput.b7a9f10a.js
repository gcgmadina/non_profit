import{z as q,r as n,A as E,a8 as C,o as v,g as k,w as o,e as l,u as a,B as M,C as d,F as y,G as f,f as m,E as D,q as U,b as P,X as x,W as A,t as W,P as J,k as N,l as O,c as F}from"./index.92312bcf.js";import{H as L}from"./Header.2bdb63fd.js";import{F as j}from"./Footer.bdb453cc.js";import{f as H}from"./DateUtils.561c33b0.js";import{_ as K}from"./PhoneInput.23613b61.js";import{I as R}from"./InputAmount.ef6039dc.js";import{b as z}from"./BankList.975947ff.js";import"./moment.40bc58bf.js";const G={key:0},X={key:1},ne={__name:"ZakatInput",setup($){const B=q(),s=n(""),p=n(),_=n(""),g=n(),u=n("Uang"),Z=H(new Date),I=n(Z),i=n(null),r=n(""),V=n(""),h=n("Beras"),b=n("0"),S=E(()=>{if(u.value==="Barang")return b.value!==null;if(u.value==="Uang")return r.value==="Wire Transfer"?i.value!==null&&r.value&&V.value:i.value!==null&&r.value}),T=c=>{i.value=c},w=()=>{S.value?u.value=="Uang"?r.value==="Wire Transfer"?F({method:"POST",url:"non_profit.api.fundraising.new_donation",params:{donation_type:s.value,fullname:p.value,phone:_.value,donor:g.value,item_type:u.value,date:I.value,amount:i.value,mode_of_payment:r.value,bank:V.value},onSuccess:e=>{console.log(e),B.push({name:"DonationDetail",params:{id:e}})},onError:e=>{console.log(e)}}).reload():F({method:"POST",url:"non_profit.api.fundraising.new_donation",params:{donation_type:s.value,fullname:p.value,phone:_.value,donor:g.value,item_type:u.value,date:I.value,amount:i.value,mode_of_payment:r.value},onSuccess:e=>{console.log(e),B.push({name:"DonationDetail",params:{id:e}})},onError:e=>{console.log(e)}}).reload():u.value=="Barang"&&(console.log("Submitting form with Barang"),F({method:"POST",url:"non_profit.api.fundraising.new_goods_donation",params:{donation_type:s.value,fullname:p.value,phone:_.value,donor:g.value,item_type:u.value,date:I.value,amount:b.value,item:h.value},onSuccess:e=>{console.log(e),B.push({name:"DonationDetail",params:{id:e}})},onError:e=>{console.log(e)}}).reload()):console.log("Form is not valid. Please fill in all required fields.")};return C(()=>{s.value==="Zakat Mal"&&(u.value="Uang",b.value="0"),s.value==="Zakat Fitrah"&&(i.value=null,r.value="",V.value="")}),(c,e)=>(v(),k(a(O),null,{default:o(()=>[l(L),l(a(N),{class:"ion-padding"},{default:o(()=>[l(a(M),null,{default:o(()=>[l(a(d),null,{default:o(()=>[l(a(y),{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=t=>s.value=t),required:"",label:"Jenis Zakat"},{default:o(()=>[l(a(f),{value:"Zakat Mal"},{default:o(()=>[m("Zakat Mal")]),_:1}),l(a(f),{value:"Zakat Fitrah"},{default:o(()=>[m("Zakat Fitrah")]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(a(d),null,{default:o(()=>[l(a(D),{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=t=>p.value=t),type:"text",label:"Nama",labelPlacement:"floating"},null,8,["modelValue"])]),_:1}),l(a(d),null,{default:o(()=>[l(K,{modelValue:_.value,"onUpdate:modelValue":e[2]||(e[2]=t=>_.value=t)},null,8,["modelValue"])]),_:1}),l(a(d),null,{default:o(()=>[l(a(D),{modelValue:g.value,"onUpdate:modelValue":e[3]||(e[3]=t=>g.value=t),type:"email",label:"Email",labelPlacement:"floating"},null,8,["modelValue"])]),_:1}),l(a(d),null,{default:o(()=>[l(a(y),{modelValue:u.value,"onUpdate:modelValue":e[4]||(e[4]=t=>u.value=t),required:"",label:"Jenis Zakat"},{default:o(()=>[l(a(f),{value:"Uang"},{default:o(()=>[m("Uang")]),_:1}),s.value==="Zakat Fitrah"?(v(),k(a(f),{key:0,value:"Barang"},{default:o(()=>[m("Beras")]),_:1})):U("",!0)]),_:1},8,["modelValue"])]),_:1}),u.value==="Uang"?(v(),P("div",G,[l(R,{onAmountSelected:T}),l(a(d),null,{default:o(()=>[l(a(D),{modelValue:i.value,"onUpdate:modelValue":e[5]||(e[5]=t=>i.value=t),modelModifiers:{number:!0},type:"number",required:"",label:"Jumlah Donasi",labelPlacement:"floating"},null,8,["modelValue"])]),_:1}),l(a(d),null,{default:o(()=>[l(a(y),{modelValue:r.value,"onUpdate:modelValue":e[6]||(e[6]=t=>r.value=t),required:"",label:"Metode Pembayaran"},{default:o(()=>[l(a(f),{value:"cash"},{default:o(()=>[m("Cash")]),_:1}),l(a(f),{value:"Wire Transfer"},{default:o(()=>[m("Transfer Bank")]),_:1})]),_:1},8,["modelValue"])]),_:1}),r.value==="Wire Transfer"?(v(),k(a(d),{key:0},{default:o(()=>[l(a(y),{modelValue:V.value,"onUpdate:modelValue":e[7]||(e[7]=t=>V.value=t),label:"Pilih Bank"},{default:o(()=>[(v(!0),P(x,null,A(a(z),t=>(v(),k(a(f),{key:t.id,value:t.name},{default:o(()=>[m(W(t.account_name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})):U("",!0)])):U("",!0),u.value==="Barang"?(v(),P("div",X,[l(a(d),null,{default:o(()=>[l(a(D),{modelValue:b.value,"onUpdate:modelValue":e[8]||(e[8]=t=>b.value=t),modelModifiers:{number:!0},type:"number",required:"",label:"Jumlah Beras (Kg)",labelPlacement:"floating"},null,8,["modelValue"])]),_:1})])):U("",!0),l(a(J),{onClick:w,disabled:!S.value},{default:o(()=>[m("Kirim")]),_:1},8,["disabled"])]),_:1})]),_:1}),l(j)]),_:1}))}};export{ne as default};
